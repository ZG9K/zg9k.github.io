<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Desktop</title>
  <link rel="stylesheet" href="https://use.typekit.net/dsm0ynv.css">
  <style>
    :root {
      /* Change this to any image URL to swap the wallpaper */
      --desktop-bg: url("");
    }

    html,
    body {
      height: 100%;
      margin: 0;
      font-family: lores-9-narrow, sans-serif;
        background-color: white; /* fallback */
  background-image: 
    repeating-conic-gradient(#000 0% 25%, #fff 0% 50%);
  background-size: 2px 2px;
      overflow: hidden;
      cursor: default;
      user-select: none;
    }

    #desktop {
      position: relative;
      width: 100%;
      height: calc(100% - 42px); /* leave room for dock */
    }

    /* ---------------- Dock (taskbar) ---------------- */
    #dock {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 42px;
      background: #c0c0c0;
      border-top: 2px solid #000;
      display: flex;
      align-items: center;
      padding: 4px 8px;
      gap: 6px;
    }
    .icon {
      width: 32px;
      height: 32px;
      background: #000;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      cursor: pointer;
      border: 2px solid #000;
    }

    /* ---------------- Window ---------------- */
    .window {
      position: absolute;
      display: flex;
      flex-direction: column;
      background: #fff;
    box-shadow:
      0 0 0 2px #000,
      0 0 0 3px #fff,
      0 0 0 5px #000;
      min-width: 160px;
      min-height: 120px;
    }

    .titlebar {
      height:10px;
      background: #000;
      color: #fff;
      padding: 0px 6px;
      padding-bottom: 2px;
      cursor: move;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 4px;
      user-select: none;
    box-shadow: 5px -5px 0 0px black, -5px -5px 0 0 black, -5px -0px 0 0 black, 5px -0px 0 0 black;
    }
    /* --- close button for NEW windows only --- */
    .titlebar button.close{
      appearance:none;
      border:none; 
      cursor:pointer;
      background:#fff; 
      color:#000; 
      font-weight:bold;
      width:min-content; 
      height:min-content; 
      line-height:1;
      margin-left:auto;
    }
    .titlebar button.close:hover{ background:#696969; color:#fff; }

    .titlebar button:hover { background: #ccc; }

    .content {
      flex: 1;
      overflow: hidden;
      background: #dedede;
      padding: 2px;
    }

    /* ---------------- Content Styles ---------------- */
    .title,
    body, html {
        font-family: 'geneva-9-1', sans-serif;
        font-weight: normal;
        font-style: normal;
        font-size: 20px;
    }

    .title{
      transform:matrix(1, 0, 0, 1, -5, -3);
    }

    @font-face {
        font-family: 'geneva-9-1';
        src: url('assets/fonts/geneva-9-1.otf') format('opentype');
        font-weight: normal;
        font-style: normal;
    }
    .caps {
        text-transform: uppercase;
    }
    p {
        margin: 0 0 0px;
    }

    ul{
        margin:0px;
    }
    a {
        color: #000;
        text-decoration: none;
        font-weight: bold;
    }
    a:hover {
        text-shadow: #858585 0px 1px 0px;
    }
    .highlight{
        background-color: #b4b4b4;
        color: #ffffff;
    }
    /* custom list styling */
    .projects-list { list-style: none; padding-left: 0; }
    .projects-list li { margin: 4px 0; }
    .projects-list img { vertical-align: middle; margin-right: 4px; }
    .projects-list img { width: 14px; height: 14px; vertical-align: middle; margin-right: 8px; }

    /* blink cursor */
    .blink { animation: blink 1s steps(1) infinite; }
    @keyframes blink { 50% { opacity: 0; } }

    .styledTextInput{
      border: none;
      background: none;
      background-image: 
      repeating-conic-gradient(#000 0% 25%, #fff 0% 50%);
      background-size: 2px 2px;
      width:100%;
      font-family: 'geneva-9-1', sans-serif;
      font-size: 20px;
      margin-top: 5px;
      border-radius: none;
    }
    .styledTextInput:hover{
      background-image: 
      repeating-conic-gradient(#000 0% 25%, #fff 0% 50%);
      background-size: 2px 2px;
    }

    button{
      font-family: 'geneva-9-1', sans-serif;
      border-radius: none;
      border:none;
      background-color: none;
      margin-top:5px;
              color: #000;
        text-decoration: none;
        font-weight: bold;
        font-size: 20px;
        padding: 5px;
        box-shadow: inset -1px -1px 0px 0px black, inset 1px 1px 0px 0px white;
    }

      button:hover {
                background-color: #b4b4b4;
                box-shadow: inset -1px -1px 0px 0px white, inset 1px 1px 0px 0px black;
    }

    .buttonText{
      transform:matrix(1, 0, 0, 1, -20, -20);
    }
    
  </style>
</head>
<body><div id="desktop">
  <!-- ---------------- Projects Window ---------------- -->
  <div class="window" data-window-id="projects" style="left: 20vw; top: 127px; width: 400; height: 300;">
    <div class="titlebar"><span class="title">projects<span class="blink">_</span></span></div>
    <div class="content">
      <p class="highlight">[ok] loading local manifest: ./projects</p>
      <ul class="projects-list">
        <li>* <a href="projects/newmanse.html"><strong>the new manse</strong></a> ‚Äî final vcd unit 3/4 project (2024)</li>
        <li>* <a href="disneylandToday/view.html"><strong>disneyland today</strong></a> ‚Äî interactive recreation of the old tv dashboard ui</li>
        <li>* <a href="betterdash.html"><strong>disneyland dashboard</strong></a> ‚Äî a dashboard collating my disneyland today view, and my custom <br>guides to the park</li>
        <li>* <a href="https://chromewebstore.google.com/detail/mdfmkgafgenhnfaalefjjfgmnmlagdam"><strong>schol+ extention</strong></a> ‚Äî a browser extention for SMGS schoolbox!</li>
      </ul>
      <p class="highlight">[info] 3 entries loaded | last update: 8 aug 2025</p>
    </div>
  </div>

  <!-- ---------------- Templates Window ---------------- -->
  <div class="window" data-window-id="templates" style="left: 58vw; top: 223px; width: 500px; height: 300px;">
    <div class="titlebar"><span class="title">student templates</span></div>
    <div class="content">
      <p class="highlight">[warn] openai key not included ‚Äî manual intervention required</p>
      <p>compiled reference scripts for use in ai education modules. tested under python 3.10+</p>
      <ul class="projects-list">
        <li>* <a href="templates/jobscript.py" target="_blank"><strong>job interview script</strong></a> ‚Äî basic gpt-powered q/a bot for roleplay scenarios</li>
        <li>* <a href="templates/imagegen.py" target="_blank"><strong>image generator</strong></a> ‚Äî openai dall-e image prompt pipeline</li>
        <li>* <a href="templates/cosmicmachine.py" target="_blank"><strong>cosmic vending machine</strong></a> ‚Äî the most advanced ai vending machine using pseudo-random metaphysics (no metal goods supplied)</li>
      </ul>
      <p class="highlight">[sys] path=/usr/edu/scripts/templates | 3 scripts active</p>
    </div>
  </div>

  <!-- ---------------- Cool Links Window ---------------- -->
  <div class="window" data-window-id="links" style="left: 17vw; top: 376px; width: 360px; height: 260px;">
    <div class="titlebar"><span class="title">web links</span></div>
    <div class="content">
      <p><span class="highlight">external references & bookmarks of interest. [network ok]</span></p>
      <ul class="projects-list">
        <li>* <a href="https://slowroads.io/" target="_blank"><strong>slowroads.io</strong></a> ‚Äî this got me through year 12</li>
        <li>* <a href="https://ashtondoughty.com/" target="_blank"><strong>ashtondoughty.com</strong></a> ‚Äî this person seems pretty cool!</li>
        <li>* <a href="https://madebyyuma.com/" target="_blank"><strong>madebyyuma.com</strong></a> ‚Äî this duck seems pretty cool!</li>
      </ul>
      <p class="highlight">[dns resolved] 3 sites online</p>
    </div>
  </div>

  <!-- ---------------- Contact Window ---------------- -->
  <div class="window" data-window-id="contact" style="left: 45vw; top: 607px; width: 380px; height: 180px;">
    <div class="titlebar"><span class="title">contact<span class="blink">_</span></span></div>
    <div class="content">
      <p>direct mail interface available via:</p>
      <p><a href="mailto:maxtbentley@gmail.com">maxtbentley@gmail.com</a></p>
      <p>or via discord @ZG9K</span></p>
      <p class="highlight">[ack] connection idle | status: reachable</p>
    </div>
  </div>

  <!-- ---------------- Clock Window ---------------- -->
  <div class="window" data-window-id="clock" style="width: 160px; left: 44vw; top: 370px;">
    <div class="titlebar"><span class="title">max bentley</span></div>
    <div class="content" style="font-size:18px;text-align:center;" >
      <time id="clockDisplay"></time><br>
      <p class="highlight" id="inputWindow">[info] waiting for user input<span class="blink">...</span> </p>
      <input type="text" class="styledTextInput">
      <button id=activate><span class="buttonText">go!</span></button>
    </div>
  </div>
</div>


<script>
  const desktop = document.getElementById("desktop");

  /* ---------- helpers ---------- */
  const getMaxZ = () =>
    [...desktop.children].reduce((m, el) => Math.max(m, +el.style.zIndex || 0), 0);

  /* ---------- make any window draggable & closable ---------- */
function initWindow(win){
  const titlebar = win.querySelector(".titlebar");

  /* -- wire the close button once, at init -- */
  const btnCls = win.querySelector(".close");
  if (btnCls){
    btnCls.removeAttribute("onclick");
    btnCls.addEventListener("click", e=>{
      e.stopPropagation();   // don‚Äôt trigger drag
      win.remove();          // destroy window
    });
  }

  /* bring to front on any click */
  win.addEventListener("mousedown", () => win.style.zIndex = getMaxZ() + 1);

  /* drag logic */
  let ox, oy;
  titlebar.addEventListener("pointerdown", e=>{
    /* ignore clicks that started on the close button */
    if (e.target.closest(".close")) return;
    if (e.button !== 0) return;               // only left‚Äëbutton

    ox = e.clientX - win.offsetLeft;
    oy = e.clientY - win.offsetTop;
    win.setPointerCapture(e.pointerId);
    win.style.zIndex = getMaxZ() + 1;

    const move = ev=>{
      win.style.left = `${ev.clientX - ox}px`;
      win.style.top  = `${ev.clientY - oy}px`;
    };
    const up = ev=>{
      win.releasePointerCapture(ev.pointerId);
      win.removeEventListener("pointermove", move);
      win.removeEventListener("pointerup",    up);
    };
    win.addEventListener("pointermove", move);
    win.addEventListener("pointerup",    up);
  });
}
  /* ---------- factory: produces ONE copy per href ---------- */
  window.createWindow = ({title="new¬†window",html="<p>Hello!</p>",x=40,y=40,w=320,h=200,href=""}={})=>{
    if(href){
      const existing = desktop.querySelector(`.window[data-href="${href}"]`);
      if(existing){ existing.style.zIndex=getMaxZ()+1; return existing; }
    }

    const win = document.createElement("div");
    win.className = "window";
    if(href) win.dataset.href = href;
    win.style.cssText += `left:${x}px;top:${y}px;width:${w}px;height:${h}px;`;
    win.innerHTML =
      `<div class="titlebar">
         <span class="title">${title}</span>
         <button class="close" type="button">√ó</button>
       </div>
       <div class="content">${html}</div>`;
    desktop.appendChild(win);
    win.style.zIndex = getMaxZ() + 1;
    initWindow(win);
    return win;
  };

  /* ---------- mapped in‚Äëdesktop pages ---------- */
  const projectPages = {
    "projects/newmanse.html": `
      <section class="hero">
<iframe width="495" height="250" src="https://www.youtube.com/embed/1LXm8pBzSpo?si=vVbV1ehzasWV0Hhk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=false></iframe>
      </section>

      <p class="caps highlight">The New Manse</p>
      <p class="subheading">VCD¬†3/4 Final * 2024</p>

      <div class="links">
        <span>Video Links:</span>
        <a href="https://www.youtube.com/watch?v=1LXm8pBzSpo" target="_blank">The¬†New¬†Manse</a>¬∑
        <a href="https://www.youtube.com/watch?v=dxm5qSfQu4I"  target="_blank">The¬†Recital¬†Space</a>
      </div>
      <hr style="border: none; border-top: 1.5px dotted #888; margin: 12px 0;">
      <p>This project was a redevelopment of the St‚ÄØMichael‚Äôs Grammar School Music Manse to accommodate new practice rooms, staff spaces, a student foyer, social areas, and a classroom/recital space.</p>
      <p>The brief only required exterior design for the New¬†Manse and the recital space, but I ended up doing everything anyway¬† :)</p>
      <p>It was a great project and I loved fitting the new work into the existing architecture.</p>
    `
  };

  /* ---------- link‚Äëclick interception ---------- */
  document.addEventListener("click", e=>{
    const a = e.target.closest("a");
    if(!a) return;
    const href = a.getAttribute("href");
    if(projectPages[href]){
      e.preventDefault();
      createWindow({
        title: a.textContent.trim(),
        html : projectPages[href],
        w:500, h:500, x:120, y:80,
        href
      });
    }
  });

  /* ---------- clock ---------- */
  const clock = document.getElementById("clockDisplay");
  const tick  = () => { if(clock) clock.textContent = new Date().toLocaleString(); requestAnimationFrame(tick); };
  tick();

  /* ---------- initialise existing static windows ---------- */
  document.querySelectorAll(".window").forEach(initWindow);

    // Define your code-to-link mapping here
  const linkMap = {
    hello: "https://zg9k.github.io/templates/tbrpg.py",
    disney: "https://www.disney.com",
    google: "https://www.google.com",
    gpt5: "https://zg9k.github.io/templates/responsescript.py",
    prompt: "https://zg9k.github.io/templates/thinkscript.py",
    popup: null, // This will be handled by the random popup logic
    // Add more key-value pairs as needed
  };

  

  document.getElementById("activate").addEventListener("click", () => {
    const input = document.querySelector(".styledTextInput").value.trim().toLowerCase();

    if (linkMap[input]) {
      window.location.href = linkMap[input];
            document.getElementById("inputWindow").innerHTML = `
        <p class="highlight">[info] document found! yay!</p>
      `;
    } else if (input === "popup") {
      spawnPopup();
      document.getElementById("inputWindow").innerHTML = `
        <p class="highlight">[info] random popup spawned!</p>
      `;
    }else{
      document.getElementById("inputWindow").innerHTML = `
        <p class="highlight">[error] no link found for input ${input}!</p>
      `;
    }
  });


/* ---------- random popup windows ---------- */
const popupMessages = [
  // üéì Uni / Architecture
  "[arch] crit scheduled | please prepare mesh wave stability report.",
  "[vcd] render queue overloaded | Edmond & Corrigan requesting backup.",
  "[studio] Babylon model registered | liquidity confirmed.",
  "[site] South Lawn Car Park precedent detected.",
  "[sys] reminder: coffee before Rhino, not after.",
  "[arch] mesh void activated | perception field warped.",
  "[render] shadows behaving better than expected.",
  "[arch] timber frame acquired | water management still pending.",

  // üñ• Tech / Coding
  "[ai] cosmic vending machine humming happily.",
  "[python] indentation levels stable.",
  "[api] GPT-5 handshake confirmed.",
  "[bot] Largestore intercom warming up.",
  "[debug] your semicolons miss you.",
  "[game] simulation loop: chaos=enabled.",
  "[net] Stanford duck has moved 3% closer.",
  "[ext] schol+ extension sending mischievous packets.",

  // üé¢ Disneyland / Theme Parks
  "[park] wait time: Haunted Mansion = 13 min.",
  "[dash] disneylandToday UI boot successful.",
  "[park] churro supply low | emergency cinnamon reserves engaged.",
  "[ride] Matterhorn goats accounted for.",
  "[land] Chicago plaza fountain running at 120%.",
  "[park] Grizzly Peak air quality: pine-scented.",
  "[sim] Yesterland archive accessed.",
  "[dl] Lightning Lane price surge detected.",

  // üé≤ D&D / Worldbuilding
  "[aether] time fracture expanding near Serathene.",
  "[vel] containment crystal humming ominously.",
  "[concord] watch synchronization error.",
  "[hunt] Temporal Wargs prowling again.",
  "[dm] Maerin suspicious of higher powers.",
  "[echo] assassins phasing in.",
  "[astral] fountain reflections unstable.",
  "[site-6] memory experiment leaking.",
  "[lore] Seraterra reference logged.",

  // ü¶Ü Ducks / Yuma
  "[duck] waddling detected at 44vw.",
  "[net] madebyyuma.com connection secure.",
  "[bird] quack over TCP/IP.",
  "[sys] duck progress: 72% to Stanford.",
  "[dns] ashtondoughty.com still cool.",
  "[duck] feathery packet dropped.",
  "[mallard] unauthorized pond entry.",

  // ‚úçÔ∏è Writing / Personal
  "[fic] Wednesday x Enid subplot generating.",
  "[prose] Oxford fog density: 78%.",
  "[scene] window seat stillness archived.",
  "[plot] slow burn timer still ticking.",

  // üåÄ Fun / Absurd / Surreal
  "[cpu] hamster wheel spinning at optimal speed.",
  "[sys] vacuuming unused pixels‚Ä¶",
  "[snack] lemon reserves: insufficient.",
  "[life] new god request queued.",
  "[err] sadness.exe could not be compiled.",
  "[chat] Cal says hi.",
  "[net] over-the-garden-wall vibes detected.",
  "[warn] overuse of ducks approaching critical mass.",
  "[void] nothing to report.",
  "[ok] you‚Äôre doing great.",
  "[sys] idle hands drafting castles.",
  "[rng] fate rolled: nat 20.",
  "<img src='https://media.tenor.com/zBc1XhcbTSoAAAAM/nyan-cat-rainbow.gif' alt='nyan cat' style='width: 100%;'>"
];

function spawnPopup() {
  // Pick a random message
  const msg = popupMessages[Math.floor(Math.random() * popupMessages.length)];

  // Create the window
  const win = document.createElement("div");
  win.className = "window";
  win.style.position = "absolute";
  win.style.zIndex = getMaxZ() + 100; // always on top
  win.style.width = "auto";
  win.style.height = "auto";

  // Random position (10‚Äì80% of viewport to keep them on screen)
  win.style.top = `${10 + Math.random() * 70}vh`;
  win.style.left = `${10 + Math.random() * 70}vw`;

  // Inner HTML (no close button, auto fades)
  win.innerHTML = `
    <div class="titlebar"><span class="title">system</span></div>
    <div class="content"><p class="highlight">${msg}</p></div>
  `;

  desktop.appendChild(win);
  initWindow(win);

  // Auto remove after 6 seconds
  setTimeout(() => {
    setTimeout(() => win.remove(), 500);
  }, 12000);
}

// Spawn at random intervals (e.g. 10‚Äì25 seconds)
function startRandomPopups() {
  function loop() {
    spawnPopup();
    const next = 10000 + Math.random() * 15000; // 10‚Äì25s
    setTimeout(loop, next);
  }
  loop();
}

setTimeout(startRandomPopups, 10000 + Math.random() * 15000);

// ---- mouse movement sounds  ----
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
let noise, gainNode, filter, fadeTimer;

function createNoiseBuffer() {
  const bufferSize = 2 * audioCtx.sampleRate;
  const buffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
  const data = buffer.getChannelData(0);
  for (let i = 0; i < bufferSize; i++) {
    data[i] = Math.random() * 2 - 1;
  }
  return buffer;
}

function initMouseNoise() {
  const noiseBuffer = createNoiseBuffer();
  noise = audioCtx.createBufferSource();
  noise.buffer = noiseBuffer;
  noise.loop = true;

  gainNode = audioCtx.createGain();
  gainNode.gain.value = 0;

  filter = audioCtx.createBiquadFilter();
  filter.type = "bandpass";
  filter.frequency.value = 20; // start low
  filter.Q.value = 1; // width of band

  noise.connect(filter).connect(gainNode).connect(audioCtx.destination);
  noise.start();
}

let lastX = 0, lastY = 0, lastTime = Date.now();
document.addEventListener("mousemove", e => {
  if (!noise) initMouseNoise();

  const dx = e.clientX - lastX;
  const dy = e.clientY - lastY;
  const dt = (Date.now() - lastTime) || 1;
  const speed = Math.sqrt(dx*dx + dy*dy) / dt;

  // Map speed ‚Üí volume
  const volume = Math.min(speed * 0.025, 0.2);
  gainNode.gain.setTargetAtTime(volume, audioCtx.currentTime, 0.05);

  // Map speed ‚Üí filter freq (slow rumble ‚Üí fast hiss)
  const freq = 100 + Math.min(speed * 400, 1000);
  filter.frequency.setTargetAtTime(freq, audioCtx.currentTime, 0.1);

  lastX = e.clientX;
  lastY = e.clientY;
  lastTime = Date.now();

  clearTimeout(fadeTimer);
  fadeTimer = setTimeout(() => {
    gainNode.gain.setTargetAtTime(0, audioCtx.currentTime, 0.2);
  }, 100);
});

document.addEventListener("mouseleave", () => {
  if (gainNode) gainNode.gain.setTargetAtTime(0, audioCtx.currentTime, 0.2);
});
window.addEventListener("blur", () => {
  if (gainNode) gainNode.gain.setTargetAtTime(0, audioCtx.currentTime, 0.2);
});

// ---- click sound effects (sample-based) ----
const clickCtx = new (window.AudioContext || window.webkitAudioContext)();
const clickBuffers = [];

// Load samples
async function loadClick(url) {
  const resp = await fetch(url);
  const data = await resp.arrayBuffer();
  return await clickCtx.decodeAudioData(data);
}

// preload 2‚Äì3 samples (swap paths with your own)
Promise.all([
  loadClick("assets/sounds/click1.wav"),
]).then(loaded => clickBuffers.push(...loaded));

// play on any click
document.addEventListener("click", () => {
  if (clickBuffers.length === 0) return;

  const src = clickCtx.createBufferSource();
  src.buffer = clickBuffers[Math.floor(Math.random() * clickBuffers.length)];

  const gain = clickCtx.createGain();
  gain.gain.value = 0.2; // volume (0.0‚Äì1.0)

  src.connect(gain).connect(clickCtx.destination);
  src.start();
});


</script>

</body>
</html>
